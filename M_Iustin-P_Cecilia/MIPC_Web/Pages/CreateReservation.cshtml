@page
@model MIPC_Web.Pages.CreateReservationModel
@{
    ViewData["Title"] = "Plan Your Trip";
}
<br />
<div class="container">
    <h2 class="text-center mb-4">Completeaza formularul si creeaza o rezervare pentru vehiculul ales!</h2>

    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg mb-4">
                <div class="card-header bg-login text-white">
                    <h5 style="color:black">@Model.Car.Marca @Model.Car.Model</h5>
                </div>
                <div class="card-body">
                    <div class="text-center">
                        <img src="/images/@Model.Car.imagine1" class="img-fluid mb-2" alt="Car Image 1" height="150px" width="250px" />
                        @if (!string.IsNullOrEmpty(@Model.Car.imagine2))
                        {
                            <img src="/images/@Model.Car.imagine2" class="img-fluid" alt="Car Image 2" height="150px" width="250px" />
                        }
                    </div>
                    <p><strong>An fabricatie:</strong> @Model.Car.AnFabricatie</p>
                    <p><strong>Numar inmatriculare:</strong> @Model.Car.NumarInmatriculare</p>
                    <p><strong>Pret per km:</strong> @Model.Car.PretPerKm RON</p>

                    @if (Model.Car.PreluataDeSofer == true)
                    {
                        <hr />
                        <h4><b>Detalii sofer</b></h4>
                        <p><strong>Nume:</strong> @Model.Sofer.Nume</p>
                        <p><strong>Prenume:</strong> @Model.Sofer.Prenume</p>
                        <p><strong>Telefon:</strong> @Model.Sofer.Telefon</p>
                        <p><strong>Email:</strong> @Model.Sofer.Email</p>
                        <img src="/images/@Model.Sofer.PozaProfil" class="img-fluid rounded-circle" alt="Profile picture" height="100px" width="100px" />
                    }
                    else
                    {
                        <p><strong>Sofer:</strong> Not assigned</p>
                    }
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <form method="post">
                <div class="form-group">
                    <label for="startDate">Alegeti data ce inceput</label>
                    <input type="date" id="startDate" name="DataStartRezervare" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" required />
                </div>

                <div class="form-group">
                    <label for="endDate">Alegeti data ce final</label>
                    <input type="date" id="endDate" name="DataStopRezervare" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")" required />
                </div>

                <div class="form-group">
                    <label for="startLocation">Introduceti locatia de pornire</label>
                    <input id="startLocation" name="LocatiePlecare" class="form-control" placeholder="Locatia de pornire" required />
                </div>

                <div class="form-group">
                    <label for="stopLocation">Introduceti locatia de oprire</label>
                    <input id="stopLocation" name="LocatieSosire" class="form-control" placeholder="Locatia de oprire" required />
                </div>

                <div class="form-group">
                    <label for="totalDistance">Distanta totala (km)</label>
                    <input id="totalDistance" name="Distance" class="form-control" readonly />
                </div>

                <div class="form-group">
                    <label for="price">Pretul total (RON)</label>
                    <input id="price" name="Price" class="form-control" readonly />
                </div>

                <button type="submit" class="btn btn-login btn-lg btn-block">Trimite rezervarea</button>
            </form>
        </div>
    </div>
</div>

<!-- Google Maps API -->
<input type="hidden" id="pricePerKm" value="@Model.PretPerKm" />
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIMehSWnzPsLtvjp5JXom0RoA5WED0Wro&libraries=places,geometry&callback=initAutocomplete"
        async
        defer></script>
<script src="/js/createReservation.js"></script>

<style>
    .card {
        border-radius: 15px;
    }

    .card-header {
        border-radius: 15px 15px 0 0;
        background-color: #fff8e1;
    }

    .card-body {
        background-color: #f8f9fa;
    }

    .form-control {
        border-radius: 8px;
        box-shadow: none;
        margin-bottom: 10px;
    }

        .form-control:focus {
            border-color: #fff8e1;
            box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, 0.25);
        }

    .img-fluid {
        border-radius: 5px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }

    .rounded-circle {
        border-radius: 50% !important;
    }

    .row {
        margin-bottom: 20px;
    }
</style>